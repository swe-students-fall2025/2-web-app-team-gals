{% extends "base.html" %}

{% block title %}Profile{% endblock %}
{% block content %}
  <div class="profile-header">
      <h1>Welcome, {{ name }}!</h1>
      <div class="profile-links">
          <a href="{{ url_for('edit_profile') }}">Edit Profile</a> |
          <a href="{{ url_for('logout') }}">Logout</a>
      </div>
  </div>

  <div class="add-exp-container">
      <a href="{{ url_for('add_experience') }}" class="btn">+ Add Experience</a>
  </div>

  <h3 class = 'exp-header'style="text-align:center;">Your Experiences (Newest First)</h3>
  {% if experiences %}
  <ul>
    {% for exp in experiences %}
      <li>
        {{ exp.title }} — {{ exp.rating }}/10 — {{ exp.created_at.strftime('%b %d, %Y') }}
        <a href="{{ url_for('edit_experience', id=exp._id, next='profile') }}">Edit</a> |
        <a href="{{ url_for('delete_experience', id=exp._id, next='profile') }}" onclick="return confirm('Are you sure you want to delete this experience?');">
          Delete
        </a>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p class="no-exp">
    You haven’t added any experiences yet.<br>
    <a href="{{ url_for('add_experience') }}" class="add-exp-link">Add your first one!</a>
  </p>
{% endif %}

{% endblock %}