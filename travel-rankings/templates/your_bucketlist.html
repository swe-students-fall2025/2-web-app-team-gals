{% extends "base.html" %}

{% block title %}Your Lists{% endblock %}
{% block content %}
<a href="{{ url_for('your_lists') }}">
  <button type="button">Your Experiences</button>
</a>

<h1>Your Bucketlist</h1>

<!-- Add new experience -->
<a href="{{ url_for('add_bucketlist') }}" class="add-btn">Add To Your Bucketlist</a>
<hr>

<div class="experience-grid">
  {% for exp in bucketList %}
  <div class="experience">
    <h3>#{{ exp.rank }} â€” {{ exp.title }}</h3>
    <p><strong>Category:</strong> {{ exp.category }}</p>
    <p>{{ exp.notes }}</p>
    <p><strong>Rating:</strong> {{ exp.rating }}</p>

    {% if exp.picture %}
      <img src="{{ url_for('static', filename='uploads/' ~ exp.picture) }}" alt="{{ exp.title }}">
    {% endif %}

    <form class="complete-form" action="{{ url_for('complete_bucketlist', id=exp._id|string) }}" method="POST">
      <label class="complete-label">
        <input type="checkbox" name="completed" onchange="this.form.submit()"> Completed
      </label>
    </form>

    <div class="button-group">
      <a href="{{ url_for('edit_bucketlist', id=exp._id|string) }}">
        <button class="edit-btn" type="button">Edit</button>
      </a>
      <a href="{{ url_for('delete_bucketlist', id=exp._id|string) }}" onclick="return confirm('Are you sure?');">
        <button class="delete-btn" type="button">Delete</button>
      </a>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}
