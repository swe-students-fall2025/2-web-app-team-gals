{% extends "base.html" %}

{% block title %}Edit Experience{% endblock %}
{% block content %}
  <h1>Edit Experience</h1>

  <a href="{{ url_for('your_lists') }}">← Back to Your List</a>
  <hr>

  <form method="POST" enctype="multipart/form-data" class="form">
    <label>Title:</label>
    <input name="title" value="{{ exp.title }}" required>

    <label for="picture">Picture:</label><br>
    {% if exp.picture %}
        <div class="image-preview">
          <img src="{{ url_for('static', filename='uploads/' + exp.picture) }}" alt="Experience Image">
          <p class="current-photo-text">Current photo — upload a new one to replace it:</p>
          <input type="file" name="picture" accept="image/*">
        </div>
      {% else %}
        <input type="file" name="picture" accept="image/*">
    {% endif %}

    <label for="category">Category:</label><br>
    <select name="category" required>
      <option value="" disabled {% if not exp.category %}selected{% endif %}>Select a category</option>
      <option value="City" {% if exp.category == "City" %}selected{% endif %}>City</option>
      <option value="Nature" {% if exp.category == "Nature" %}selected{% endif %}>Nature</option>
      <option value="Beach" {% if exp.category == "Beach" %}selected{% endif %}>Beach</option>
      <option value="Food" {% if exp.category == "Food" %}selected{% endif %}>Food</option>
      <option value="Adventure" {% if exp.category == "Adventure" %}selected{% endif %}>Adventure</option>
      <option value="Culture" {% if exp.category == "Culture" %}selected{% endif %}>Culture</option>
      <option value="Relaxation" {% if exp.category == "Relaxation" %}selected{% endif %}>Relaxation</option>
      <option value="Other" {% if exp.category == "Other" %}selected{% endif %}>Other</option>
    </select><br>


    <label>Notes:</label>
    <textarea name="notes">{{ exp.notes }}</textarea>

    <label>Rating (0–10):</label>
      <input 
        type="number" 
        name="rating" 
        min="0" 
        max="10" 
        step="0.1" 
        value="{{ exp.rating }}"
        required 
      >

      <div class="form-buttons">
        <button type="submit" class="save-btn">Save Changes</button>
        <a href="{{ url_for('your_lists') }}" class="cancel-btn">Cancel</a>
      </div>
  </form>
{% endblock %}

